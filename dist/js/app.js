function initMap(){"use strict";var e={center:new google.maps.LatLng(41.8252,-71.4159719),zoom:15};map=new google.maps.Map(document.getElementById("map-canvas"),e)}var map;$(document).ready(function(){"use strict";$("#searchFS-btn").on("mouseover",function(){$("#searchFS-btn").attr("src","img/browse-hover.png")}),$("#searchFS-btn").on("mouseleave",function(){$("#searchFS-btn").attr("src","img/browse.png")}),initMap();var e=function(e){this.title=e.title,this.category=e.category,this.newMarker=function(){this.marker=new google.maps.Marker({position:new google.maps.LatLng(e.lat,e.lng),icon:e.markerIcon,title:e.title,placeInfo:e.placeInfo,map:map,url:e.url,animation:google.maps.Animation.DROP})}},n=function(){function n(e){null!==e.getAnimation()?e.setAnimation(null):e.setAnimation(google.maps.Animation.BOUNCE)}var t=this;t.placeList=ko.observableArray([]),places.forEach(function(n){t.placeList().push(new e(n))});var a=t.placeList().length;t.allMarkers=function(){for(var e=0;a>e;e++)t.placeList()[e].newMarker()},t.allMarkers();for(var r=[],o=0;a>o;o++)t.placeList()[o].marker.placeInfo=ko.observable("");var i=function(){function e(){r.sort(function(e,n){return e.name<n.name?-1:e.name>n.name?1:0});for(var e=0;a>e;e++)t.placeList()[e].marker.placeInfo('<h2 id="iw-title">'+r[e].name+"</h2><p>Phone: "+r[e].phone+'</p><a href="'+r[e].url+'" target="_blank">website</a><a href="https://foursquare.com/v/'+r[e].id+'" target="_blank"><img src="https://ss0.4sqi.net/img/poweredByFoursquare/poweredby-one-color-cdf070cc7ae72b3f482cf2d075a74c8c.png"></a>')}for(var n=0;a>n;n++){var o=t.placeList()[n].marker.position.G+","+t.placeList()[n].marker.position.K,i="https://api.foursquare.com/v2/venues/search?ll="+o+"&client_id=WGP24ZPE3M4UTYO3STK2KU0XTLA4V4C5R3GUHQL5DJRFCKIA&client_secret=A1SD3AFP1YDTU1ATMYV4BFVX1V421CFBQQXB1Y2XZXZ2LVPW&v=20150819";$.getJSON(i,function(e){var n={dataType:"jsonp",name:e.response.venues[0].name,phone:e.response.venues[0].contact.formattedPhone,id:e.response.venues[0].id,url:e.response.venues[0].url};r.push(n)}).fail(function(){alert("getJSON request failed! ")}),setTimeout(e,1e3)}};i(),t.currentPlace=ko.observable(this.placeList()[0].marker);for(var s=function(e){t.currentPlace().setAnimation(null),t.currentPlace(e),n(e);var a=e.placeInfo();p.open(map,e),p.setContent(a)},c=0;a>c;c++)google.maps.event.addListener(t.placeList()[c].marker,"click",function(){s(this)});t.setCurrentPlace=function(e){s(e.marker)};var p=new google.maps.InfoWindow;t.query=ko.observable(""),t.search=ko.computed(function(){return ko.utils.arrayFilter(t.placeList(),function(e){return e.marker.title.toLowerCase().indexOf(t.query().toLowerCase())>=0?e.marker.setMap(map):e.marker.setMap(null),e.marker.title.toLowerCase().indexOf(t.query().toLowerCase())>=0})});var l=[],u=function(){var e="https://api.foursquare.com/v2/venues/search?ll=41.825283, -71.4126816&query=restaurant&client_id=WGP24ZPE3M4UTYO3STK2KU0XTLA4V4C5R3GUHQL5DJRFCKIA&client_secret=A1SD3AFP1YDTU1ATMYV4BFVX1V421CFBQQXB1Y2XZXZ2LVPW&v=20150819";$.getJSON(e,function(e){for(var n=0;20>n;n++){var t=e.response.venues[n];l.push(t)}})};u();var m=$("#search-FS");setTimeout(function(){for(var e=0;20>e;e++){var n=l[e].name,t=l[e].id;m.append('<p><a href="https://foursquare.com/v/'+t+'" target="_blank">'+n+"</a></p>")}},1e3);var f="http://api.wunderground.com/api/ebf06033e08ca1b6/conditions/q/RI/Providence.json",v=$.get(f);v.done(function(e){$("#conditions").append("<p>"+e.current_observation.weather+"</p>"),$("#temp").append("<p>"+e.current_observation.temp_f+"° F</p>"),$("#mobile-temp").append("<p>"+e.current_observation.temp_f+"° F</p>")}),v.fail(function(e,n){console.log("Unable to retrieve weather data")}),google.maps.event.addListener(p,"domready",function(){var e=$(".gm-style-iw"),n=e.prev();n.children(":nth-child(2)").css({display:"none"}),n.children(":nth-child(4)").css({display:"none"});var t=e.next();t.css({right:"56px",top:"18px"})})};ko.applyBindings(new n)});